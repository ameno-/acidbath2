{
  "session_id": "84b38797-75fd-45e9-8355-b9ef51ff3df8",
  "prompts": [
    "/feature generic-analysis-adw 85080678 {\"number\": \"generic-analysis-adw\", \"title\": \"Generic Content Analysis ADW - Unified Analysis Workflow\", \"body\": \"## Summary\\n\\nCreate the main content analysis ADW that accepts any input type and runs appropriate patterns through the unified pipeline. This is the primary interface for pattern-based content analysis in Jerry.\\n\\n## Parent Issue\\n\\nThis is Phase 4 of `issue-jerry-patterns-content-analysis.md`\\n\\n## Dependencies\\n\\n- Requires: `issue-pattern-executor.md` (Phase 2) completed\\n- Requires: `issue-content-extractors.md` (Phase 3) completed\\n\\n## Deliverables\\n\\n### 1. Main ADW Script (`adw_analyze_iso.py`)\\n\\n```python\\n#!/usr/bin/env -S uv run\\n\\\"\\\"\\\"\\nADW Analyze Iso - Generic content analysis in isolated worktree\\n\\nUsage:\\n  uv run adw_analyze_iso.py <input-source> [options]\\n\\nInput Sources:\\n  https://youtube.com/watch?v=...  - YouTube video\\n  https://example.com/article      - Web URL\\n  /path/to/document.pdf            - PDF file\\n  /path/to/notes.txt               - Text file\\n  -                                - Read from stdin\\n\\nOptions:\\n  --patterns, -p     Comma-separated pattern names (or 'all', 'core')\\n  --content-type, -t Force content type (youtube/url/pdf/text)\\n  --output-dir, -o   Output directory (default: agents/{adw_id}/analyze)\\n  --model, -m        Model for execution (haiku/sonnet, default: haiku)\\n  --parallel         Max parallel executions (default: 4)\\n  --quick            Use minimal pattern set for speed\\n  --full             Use all applicable patterns\\n\\nExamples:\\n  ./adw_analyze_iso.py \\\"https://youtube.com/watch?v=abc123\\\"\\n  ./adw_analyze_iso.py ./paper.pdf --patterns analyze_paper,extract_insights\\n  ./adw_analyze_iso.py https://blog.com/post --model sonnet\\n  cat article.txt | ./adw_analyze_iso.py - --patterns extract_wisdom\\n\\\"\\\"\\\"\\n```\\n\\n### 2. Workflow Steps\\n\\n1. **Parse input and detect content type**\\n2. **Extract content** (via content_extractors)\\n3. **Select patterns** (based on type, flags, or explicit list)\\n4. **Execute patterns** (via pattern_executor, parallel)\\n5. **Generate outputs** (patterns/, report.md, metadata.json)\\n6. **Optionally generate HTML dashboard**\\n\\n### 3. Pattern Selection Logic\\n\\n```python\\nCONTENT_PATTERN_MAP = {\\n    \\\"youtube\\\": {\\n        \\\"core\\\": [\\\"extract_wisdom\\\", \\\"extract_insights\\\", \\\"extract_recommendations\\\", \\\"rate_content\\\"],\\n        \\\"specialized\\\": [\\\"youtube_summary\\\", \\\"extract_youtube_metadata\\\", \\\"get_wow_per_minute\\\"],\\n        \\\"conditional\\\": {\\n            \\\"technical\\\": [\\\"extract_technical_content\\\"],\\n            \\\"educational\\\": [\\\"extract_educational_value\\\", \\\"create_knowledge_artifacts\\\"],\\n        }\\n    },\\n    \\\"url\\\": {\\n        \\\"core\\\": [\\\"extract_wisdom\\\", \\\"extract_insights\\\", \\\"extract_recommendations\\\"],\\n        \\\"specialized\\\": [\\\"extract_references\\\", \\\"extract_article_wisdom\\\"],\\n        \\\"conditional\\\": {}\\n    },\\n    \\\"pdf\\\": {\\n        \\\"core\\\": [\\\"extract_wisdom\\\", \\\"extract_insights\\\", \\\"extract_recommendations\\\"],\\n        \\\"specialized\\\": [\\\"analyze_paper\\\", \\\"extract_references\\\"],\\n        \\\"conditional\\\": {}\\n    },\\n    \\\"text\\\": {\\n        \\\"core\\\": [\\\"extract_wisdom\\\", \\\"extract_insights\\\", \\\"extract_recommendations\\\", \\\"rate_content\\\"],\\n        \\\"specialized\\\": [],\\n        \\\"conditional\\\": {}\\n    }\\n}\\n```\\n\\n### 4. Output Structure\\n\\n```\\nagents/{adw_id}/analyze/\\n\\u251c\\u2500\\u2500 metadata.json          # Input metadata + execution info\\n\\u251c\\u2500\\u2500 content.txt            # Extracted text content\\n\\u251c\\u2500\\u2500 patterns/              # Individual pattern outputs\\n\\u2502   \\u251c\\u2500\\u2500 extract_wisdom.md\\n\\u2502   \\u251c\\u2500\\u2500 extract_insights.md\\n\\u2502   \\u2514\\u2500\\u2500 ...\\n\\u251c\\u2500\\u2500 ANALYSIS_SUMMARY.md    # Executive summary\\n\\u251c\\u2500\\u2500 report.md              # Full aggregated report\\n\\u2514\\u2500\\u2500 index.html             # Interactive dashboard (optional)\\n```\\n\\n### 5. Slash Command (`/analyze`)\\n\\n```markdown\\n---\\nallowed-tools: Task\\nargument-hint: [input-source] [--quick|--full]\\ndescription: Analyze any content using bundled patterns\\n---\\n\\n# Analyze Content\\n\\nRun pattern analysis on any input type.\\n\\n## Input\\n**INPUT_SOURCE**: $ARGUMENTS\\n\\n## Execution\\nInvoke adw_analyze_iso.py with the input source.\\n```\\n\\n### 6. Integration with ADW State\\n\\n```python\\nstate = ADWState(adw_id)\\nstate.update(\\n    content_type=content.type.value,\\n    content_source=content.source,\\n    patterns_executed=list(results.keys()),\\n    execution_time=total_time,\\n)\\n```\\n\\n## Acceptance Criteria\\n\\n- [ ] `adw_analyze_iso.py` accepts all input types\\n- [ ] Content type auto-detection works correctly\\n- [ ] Pattern selection based on content type\\n- [ ] Parallel pattern execution works\\n- [ ] Output directory structure created correctly\\n- [ ] ANALYSIS_SUMMARY.md generated\\n- [ ] ADW state tracking works\\n- [ ] `/analyze` slash command functional\\n- [ ] Stdin input (`-`) works\\n\\n## Technical Notes\\n\\n- Uses worktree isolation like other `_iso` ADWs\\n- Defaults to haiku model for speed\\n- `--full` flag includes all applicable patterns\\n- `--quick` flag uses minimal core patterns only\\n\\n## Test Cases\\n\\n```bash\\n# YouTube analysis\\n./adws/adw_analyze_iso.py \\\"https://youtube.com/watch?v=dQw4w9WgXcQ\\\"\\n\\n# URL analysis\\n./adws/adw_analyze_iso.py \\\"https://example.com/article\\\" --quick\\n\\n# PDF analysis with specific patterns\\n./adws/adw_analyze_iso.py ./research.pdf --patterns analyze_paper,extract_insights\\n\\n# Stdin\\necho \\\"Content to analyze\\\" | ./adws/adw_analyze_iso.py -\\n```\\n\\n## Files to Create/Modify\\n\\n**Create:**\\n- `adws/adw_analyze_iso.py`\\n- `.claude/commands/analyze.md`\\n\\n**Modify:**\\n- None (standalone ADW)\"}"
  ]
}