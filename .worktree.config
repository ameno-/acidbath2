# Jerry Worktree Configuration Template
#
# Worktrees provide isolated environments for parallel development
# and testing without affecting your main working directory.
#
# This configuration is typically used by ADW workflows that need
# isolation (e.g., adw_plan_iso, adw_build_iso)

{
  "worktree": {
    "enabled": true,
    "base_branch": "main",
    "trees_directory": "trees",
    "prefix": "adw-",
    "port_allocation": {
      "enabled": true,
      "start_port": 8000,
      "end_port": 9000,
      "auto_increment": true
    },
    "cleanup": {
      "policy": "on_merge",
      "keep_on_failure": true,
      "retention_days": 7,
      "auto_cleanup_merged": true
    },
    "isolation": {
      "use_separate_venv": true,
      "copy_env_file": false,
      "shared_cache": true
    }
  },
  "branches": {
    "naming_convention": "{prefix}{adw_id}-{description}",
    "description_format": "kebab-case",
    "max_description_length": 50,
    "protected_branches": ["main", "master", "develop", "production"]
  },
  "validation": {
    "require_clean_state": true,
    "check_remote_sync": true,
    "verify_base_branch_exists": true
  },
  "performance": {
    "parallel_limit": 3,
    "max_worktrees": 10,
    "disk_space_warning_gb": 5
  },
  "hooks": {
    "pre_create": null,
    "post_create": null,
    "pre_delete": null,
    "post_delete": null
  },
  "logging": {
    "level": "info",
    "file": "agents/{adw_id}/worktree.log",
    "include_git_operations": true
  }
}
